/*
===========================================
DDL script-bronze tables
===========================================
script purpose: create tables in 'bronze' schema
and drops tables with same name if exists
===========================================
*/


if OBJECT_ID('bronze.customers_dataset', 'u') is not null
	drop table bronze.customers_dataset;
create table bronze.customers_dataset(
customer_id nvarchar(100),
customer_unique_id nvarchar(100),
customer_zip_code_prefix int,
customer_city nvarchar(100),
customer_state nvarchar(50)
);

if OBJECT_ID('bronze.geolocation_dataset', 'u') is not null
	drop table bronze.geolocation_dataset;
create table bronze.geolocation_dataset(
geolocation_zip_code_prefix int,
geolocation_lat float,
geolocation_lng float,
geolocation_city nvarchar(50),
geolocation_state nvarchar(50)
);

if OBJECT_ID('bronze.order_items_dataset', 'u') is not null
	drop table bronze.order_items_dataset;
create table bronze.order_items_dataset(
order_id nvarchar(100),
order_item_id int,
product_id nvarchar(100),
seller_id nvarchar(100),
shipping_limit_date datetime,
price float,
freight_value float
);

if OBJECT_ID('bronze.order_payments_dataset', 'u') is not null
	drop table bronze.order_payments_dataset;
create table bronze.order_payments_dataset(
order_id nvarchar(100),
payment_sequential int,
payment_type nvarchar(100),
payment_installments int,
payment_value float
);

if OBJECT_ID('bronze.order_reviews_dataset', 'u') is not null
	drop table bronze.order_reviews_dataset;
create table bronze.order_reviews_dataset(
review_id nvarchar(100),
order_id nvarchar(100),
review_score int,
review_comment_title nvarchar(100),
review_comment_message nvarchar(100),
review_creation_date date,
review_answer_timestamp datetime
);

if OBJECT_ID('bronze.orders_dataset', 'u') is not null
	drop table bronze.orders_dataset;
create table bronze.orders_dataset(
order_id nvarchar(100),
customer_id nvarchar(100),
order_status nvarchar(100),
order_purchase_timestamp datetime,
order_approved_at datetime,
order_delivered_carrier_date datetime,
order_delivered_customer_date datetime,
order_estimated_delivery_date date
);

if OBJECT_ID('bronze.products_dataset', 'u') is not null
	drop table bronze.products_dataset;
create table bronze.products_dataset(
product_id nvarchar(100),
product_category_name nvarchar(100),
product_name_lenght int,
product_description_lenght int,
product_photos_qty int,
product_weight_g int,
product_length_cm int,
product_height_cm int,
product_width_cm int
);

if OBJECT_ID('bronze.sellers_dataset', 'u') is not null
	drop table bronze.sellers_dataset;
create table bronze.sellers_dataset(
seller_id nvarchar(100),
seller_zip_code_prefix int,
seller_city nvarchar(100),
seller_state nvarchar(50)
);

if OBJECT_ID('bronze.product_category_name_transtlation', 'u') is not null
	drop table bronze.product_category_name_transtlation;
create table bronze.product_category_name_transtlation(
product_category_name nvarchar(100),
product_category_name_english nvarchar(100)
);
